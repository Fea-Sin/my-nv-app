# Set、Map、WeakSet、WeakMap

## Set

定义

> `Set`对象允许你存储任何类型的唯一值，无论是原始值或者是对象引用。`Set`对象是值的
> 集合，你可以按照插入的顺序迭代它的元素，`Set`中的元素只会出现一次，即`Set`中的元素是唯一的

`Set`本身是一个构造函数，用来生成`Set`数据结构

### 基本使用

`new Set([iterable])` 接收一个数组或具有迭代器接口的数据结构，返回一个新的`Set`对象

### 属性及其方法

**属性**

- size: 返回集合中所包含的元素的数量

[实例](../src/d.js)

**操作方法**

- add(value): 向集合中添加一个新的项

- delete(value): 从集合中删除一个值

- has(value): 如果值在集合中存在，返回 true，否则返回 false

- clear(): 移除集合中的所有项

[实例](../src/d.js)

**遍历方法**

- keys(): 返回键名的遍历器

- values(): 返回键值的遍历器

- entries(): 返回键值对的遍历器

- forEach(): 使用回调函数遍历每个成员

[实例](../src/d.js)

### 应用场景

数组去重、并集、交集、差集

[实例](../src/d.js)

## WeakSet

> WeakSet 是对象值的集合

`WeakSet`的出现主要解决弱引用对象存储的场景，其与`Set`的区别

- WeakSet 只能是对象的集合，而不是任何类型的任意值

- WeakSet 集合中对象的引用是弱引用。如果没有其它的对 WeakSet 中对象的引用，那么这些对象
  会被当成垃圾回收掉，这也意味着 WeakSet 中没有存储当前对象的列表

> 弱引用是指其引用对象可以被垃圾回收器回收的引用

`WeakSet`的属性根操作方法与`Set`一致，不同的是`WeakSet`没有遍历方法

## Map

> Map 对象保存键值对，并且能够记住键的原始插入顺序。任何值（对象或者原始值）都可以作为一个键或
> 一个值。一个 Map 对象在迭代时会根据对象中元素的插入顺序来进行

语法

`new Map([iterable])` `iterable`可以是一个数组或者其他迭代器对象，其元素为键值对

### 属性及方法

**属性**
`size`返回 Map 结构的元素总数

**操作方法**

- set(key, value): 向 Map 中加入或更新键值对

- get(key): 读取 key 对应的值，如果没有，返回 undefined

- has(key): 某个键是否在 Map 对象中，在返回 true 否则返回 false

- delete(key): 删除某个键，返回 true，如果删除失败返回 false

- clear(): 删除所有元素
